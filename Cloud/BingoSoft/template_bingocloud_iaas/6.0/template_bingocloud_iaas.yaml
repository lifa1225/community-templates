zabbix_export:
  version: '6.0'
  date: '2022-11-18T03:33:47Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: bd780daafb46401a8608205ba9e07df3
      template: BingoMS
      name: BingoMS
      groups:
        -
          name: Templates
      items:
        -
          uuid: 5f900f73aba04dca8a9b53ece84b3403
          name: 'BingoMS CloudNode CloudNodeList'
          type: HTTP_AGENT
          key: bms.CloudNode.CloudNodeList
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.cloudNodeList
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudNode'
          query_fields:
            -
              name: infoType
              value: CloudNodeList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 1a9fdf257b45431e8bdbd0d5464182c8
          name: 'BingoMS CloudPhysicalNode CloudPhysicalNodeList'
          type: HTTP_AGENT
          key: bms.CloudPhysicalNode.CloudPhysicalNodeList
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.physical_machineList
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
          query_fields:
            -
              name: infoType
              value: CloudPhysicalNodeList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 5c2456131aec462c86c3cbf4bd0a34cf
          name: 'BingoMS CloudScale BccChildVer'
          type: HTTP_AGENT
          key: bms.CloudScale.BccChildVer
          delay: 23h;h23
          trends: '0'
          value_type: TEXT
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: BccChildVer
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: f9caf60a83bd45e49e59e12b010b6919
          name: 'BingoMS CloudScale BccVersion'
          type: HTTP_AGENT
          key: bms.CloudScale.BccVersion
          delay: 23h;h23
          trends: '0'
          value_type: TEXT
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: BccVersion
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: f3e613936a9a400589ea6510f324202c
          name: 'BingoMS CloudScale CloudDns'
          type: HTTP_AGENT
          key: bms.CloudScale.CloudDns
          delay: 23h;h23
          trends: '0'
          value_type: TEXT
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CloudDns
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: e3662009cbd74716a1e33d63650bb347
          name: 'BingoMS CloudScale CloudNodeNum'
          type: HTTP_AGENT
          key: bms.CloudScale.CloudNodeNum
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CloudNodeNum
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 084d389954284f38b88ccd0fbd28ba1f
          name: 'BingoMS CloudScale CloudNtp'
          type: HTTP_AGENT
          key: bms.CloudScale.CloudNtp
          delay: 23h;h23
          trends: '0'
          value_type: TEXT
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CloudNtp
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 22cb4054074744cdb634689e0278e8fc
          name: 'BingoMS CloudScale ClusterNum'
          type: HTTP_AGENT
          key: bms.CloudScale.ClusterNum
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: ClusterNum
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 1cbdc81fa47748d6a7daf146e46956d6
          name: 'BingoMS CloudScale CountallIns'
          type: HTTP_AGENT
          key: bms.CloudScale.CountallIns
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CountallIns
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: e84173610d234ddbbb7507b0ae687523
          name: 'BingoMS CloudScale CountrunIns'
          type: HTTP_AGENT
          key: bms.CloudScale.CountrunIns
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CountrunIns
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 516e35decb56479caf10740d919b5ba9
          name: 'BingoMS CloudScale CountstopIns'
          type: HTTP_AGENT
          key: bms.CloudScale.CountstopIns
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CountstopIns
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 6e5f340cbc6c4abf8e54a48b8754e557
          name: 'BingoMS CloudScale CpuNum'
          type: HTTP_AGENT
          key: bms.CloudScale.CpuNum
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CpuNum
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: e6a7d646b88d47488fa9352e1a96fbbc
          name: 'BingoMS CloudScale CpuNumLog'
          type: HTTP_AGENT
          key: bms.CloudScale.CpuNumLog
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CpuNumLog
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: a58d3210cd65493a925cd6537386bb72
          name: 'BingoMS CloudScale CpuNumUsed'
          type: HTTP_AGENT
          key: bms.CloudScale.CpuNumUsed
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CpuNumUsed
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 841e9003ef684ea2ac06ea3f74d9db11
          name: 'BingoMS CloudScale CpuPhyNum'
          type: HTTP_AGENT
          key: bms.CloudScale.CpuPhyNum
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: CpuPhyNum
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 6cb63ffbe9f54871816eb1160d64d0af
          name: 'BingoMS CloudScale MemNum'
          type: HTTP_AGENT
          key: bms.CloudScale.MemNum
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: MemNum
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 43803c01423b4923bb1122b855a0cf6e
          name: 'BingoMS CloudScale MemNumLog'
          type: HTTP_AGENT
          key: bms.CloudScale.MemNumLog
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: MemNumLog
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 80cdd92bbb1b440b9caa8cb89b48f927
          name: 'BingoMS CloudScale MemNumUsed'
          type: HTTP_AGENT
          key: bms.CloudScale.MemNumUsed
          trends: '0'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: MemNumUsed
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 3f7ab79355e64d288afba6976a7f0ef9
          name: 'BingoMS CloudScale PhyNodeNum'
          type: HTTP_AGENT
          key: bms.CloudScale.PhyNodeNum
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudScale'
          query_fields:
            -
              name: scaleType
              value: PhyNodeNum
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 0ffd94ea96a14e9d91e9df49b920efae
          name: 'BingoMS CloudService CloudServiceList'
          type: HTTP_AGENT
          key: bms.CloudService.CloudServiceList
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.serviceList
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudService'
          query_fields:
            -
              name: serviceType
              value: ServiceList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
        -
          uuid: 6e28aa09a65a4d6bae416323f77219a4
          name: 'BingoMS CloudStorage CloudStorageList'
          type: HTTP_AGENT
          key: bms.CloudStorage.CloudStorageList
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.storageList
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudStorage'
          query_fields:
            -
              name: storageType
              value: CloudStorageList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
      discovery_rules:
        -
          uuid: e68330fc4f5843a48b90a5befda98c8c
          name: 'BingoMS CloudNode CloudNodeList Discovery'
          type: HTTP_AGENT
          key: bms.CloudNode.CloudNodeList.Discovery
          item_prototypes:
            -
              uuid: e44adb3462fa40baa1746d2349f906fc
              name: 'BingoMS CloudNode {#NODE_MACHINEID} cpuMax'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.cpuMax.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].cpuMax.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: 91367e616a5f4eaabf30ddfa648cb04e
              name: 'BingoMS CloudNode {#NODE_MACHINEID} cpuNode'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.cpuNode.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].cpuNode.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: 4bab4a5792c34493a1e2c5c99fd49f1f
              name: 'BingoMS CloudNode {#NODE_MACHINEID} cpuNum'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.cpuNum.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].cpuNum.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: 6efdf86b982c46ebbe5b9c5346ad9d94
              name: 'BingoMS CloudNode {#NODE_MACHINEID} cpuUsed'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.cpuUsed.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].cpuUsed.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: 5a71d619464f4e0592d0adb93f73c271
              name: 'BingoMS CloudNode {#NODE_MACHINEID} cpu_usage'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.cpu_usage.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].cpu_usage.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: ef0b666461824272a1b35a26bd502926
              name: 'BingoMS CloudNode {#NODE_MACHINEID} memMax'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.memMax.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].memMax.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: 650a768fbf754c54957227a9a86c0a92
              name: 'BingoMS CloudNode {#NODE_MACHINEID} memNode'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.memNode.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].memNode.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: 153a30ff18d242c881bf2d645c5c88b3
              name: 'BingoMS CloudNode {#NODE_MACHINEID} memUsed'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.memUsed.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].memUsed.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: dd10c4e0c72d4cbeb987634db395bca5
              name: 'BingoMS CloudNode {#NODE_MACHINEID} mem_usage'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.mem_usage.[{#NODE_MACHINEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].mem_usage.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
            -
              uuid: b2d7d3d2044e4d0d9c01bd4f0a14f66a
              name: 'BingoMS CloudNode {#NODE_MACHINEID} status'
              type: DEPENDENT
              key: 'host.cloudNodeList.CloudNode.status.[{#NODE_MACHINEID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#NODE_MACHINEID}")].status.first()'
              master_item:
                key: bms.CloudNode.CloudNodeList
              trigger_prototypes:
                -
                  uuid: edb1b1ab340b4ffab9426ff9fce49009
                  expression: 'find(/BingoMS/host.cloudNodeList.CloudNode.status.[{#NODE_MACHINEID}],,"like","available")=0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/BingoMS/host.cloudNodeList.CloudNode.status.[{#NODE_MACHINEID}],,"like","available")=1'
                  name: 云计算节点状态异常告警
                  priority: WARNING
                  description: 云计算节点状态异常告警
          trigger_prototypes:
            -
              uuid: d1a38ed7e62e4323baf293672fcc0efd
              expression: 'last(/BingoMS/host.cloudNodeList.CloudNode.cpuUsed.[{#NODE_MACHINEID}])> last(/BingoMS/host.cloudNodeList.CloudNode.cpuNode.[{#NODE_MACHINEID}])'
              name: 计算节点分配CPU超过实际可用数告警
              priority: AVERAGE
              description: 计算节点分配CPU超过实际可用数告警
          graph_prototypes:
            -
              uuid: 6e286af64f044866b2f0c940edf6c70c
              name: '计算节点 {#NODE_MACHINEID} CPU物理/超售资源'
              type: STACKED
              graph_items:
                -
                  color: 1A7C11
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudNodeList.CloudNode.cpuMax.[{#NODE_MACHINEID}]'
                -
                  sortorder: '1'
                  color: F63100
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudNodeList.CloudNode.cpuNode.[{#NODE_MACHINEID}]'
                -
                  sortorder: '2'
                  color: 2774A4
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudNodeList.CloudNode.cpuUsed.[{#NODE_MACHINEID}]'
            -
              uuid: 55ae940a649642778b39409a6f6a1e83
              name: '计算节点 {#NODE_MACHINEID} Memory物理/超售资源'
              type: STACKED
              graph_items:
                -
                  color: 1A7C11
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudNodeList.CloudNode.memMax.[{#NODE_MACHINEID}]'
                -
                  sortorder: '1'
                  color: F63100
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudNodeList.CloudNode.memNode.[{#NODE_MACHINEID}]'
                -
                  sortorder: '2'
                  color: 2774A4
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudNodeList.CloudNode.memUsed.[{#NODE_MACHINEID}]'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudNode'
          query_fields:
            -
              name: infoType
              value: CloudNodeList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#NODE_CLUSTERID}'
              path: $.clusterId
            -
              lld_macro: '{#NODE_CPUMAX}'
              path: $.cpuMax
            -
              lld_macro: '{#NODE_CPUNODE}'
              path: $.cpuNode
            -
              lld_macro: '{#NODE_CPUNUM}'
              path: $.cpuNum
            -
              lld_macro: '{#NODE_CPUUSED}'
              path: $.cpuUsed
            -
              lld_macro: '{#NODE_ERLANGNODE}'
              path: $.erlangNode
            -
              lld_macro: '{#NODE_MACHINEID}'
              path: $.machineId
            -
              lld_macro: '{#NODE_MEMMAX}'
              path: $.memMax
            -
              lld_macro: '{#NODE_MEMNODE}'
              path: $.memNode
            -
              lld_macro: '{#NODE_MEMUSED}'
              path: $.memUsed
            -
              lld_macro: '{#NODE_NCNAME}'
              path: $.ncName
            -
              lld_macro: '{#NODE_NODEID}'
              path: $.nodeId
            -
              lld_macro: '{#NODE_NODE_CPUMODEL}'
              path: $.node_cpumodel
            -
              lld_macro: '{#NODE_STATUS}'
              path: $.status
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.cloudNodeList
        -
          uuid: f6d2228b059d4527bb64dda654c0367c
          name: 'BingoMS CloudPhysicalNode CloudPhysicalNodeList Discovery'
          type: HTTP_AGENT
          key: bms.CloudPhysicalNode.CloudNodeList.Discovery
          item_prototypes:
            -
              uuid: c9c476975c1e4be89a86699de03c4825
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} agent status'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.agent_status.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNodeAgent
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 22b2f79626954227af75ef1c613f8230
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.agent_status.[{#PHY_NODE_MACHINEID}])="failed"'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.agent_status.[{#PHY_NODE_MACHINEID}])="success"'
                  name: 云物理节点【agent状态】异常告警
                  priority: HIGH
                  description: 云物理节点【agent状态】异常告警
            -
              uuid: f7f990ecb7b24f598836336de0547070
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} bcc_service_status cc status'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.cc.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Bcc_service_statusItem.Bcc_cc
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: bcc_service_status
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: fb7b7c065c9b4fa08aa0199dc44aafad
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.cc.[{#PHY_NODE_MACHINEID}])="notrunning"'
                  name: 云物理节点【cc状态】异常告警
                  priority: HIGH
                  description: 云物理节点【cc状态】异常告警
            -
              uuid: 2009c655f2604bdf98f4fa2f4684fb59
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} bcc_service_status clc status'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.clc.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Bcc_service_statusItem.Bcc_clc
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: bcc_service_status
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: aa6cfb1d61be4bca8ee0e78245cc2140
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.clc.[{#PHY_NODE_MACHINEID}])="notrunning"'
                  name: 云物理节点【clc状态】异常告警
                  priority: HIGH
                  description: 云物理节点【clc状态】异常告警
            -
              uuid: 575ade0f1b3444f2a7444c8553eb5b55
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} bcc_service_status host status'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.host.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Bcc_service_statusItem.Bcc_host
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: bcc_service_status
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: a3a23cf2544f4bf6890a8c9ec12e4954
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.host.[{#PHY_NODE_MACHINEID}])="notrunning"'
                  name: 云物理节点【host状态】异常告警
                  priority: HIGH
                  description: 云物理节点【host状态】异常告警
            -
              uuid: f4e9474bd18d4801989b4395c2b648c7
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} bcc_service_status metaweb status'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.metaweb.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Bcc_service_statusItem.Bcc_metaweb
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: bcc_service_status
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 22571cdc47d04519bd9ecd2aa088945d
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.metaweb.[{#PHY_NODE_MACHINEID}])="notrunning"'
                  name: 云物理节点【metaweb状态】异常告警
                  priority: HIGH
                  description: 云物理节点【metaweb状态】异常告警
            -
              uuid: 45108c4698464f08bb56dc13134945e5
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} bcc_service_status node status'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.node.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Bcc_service_statusItem.Bcc_node
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: bcc_service_status
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 5f9837bc3b8d4970a31555b69019438a
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.bcc_service_status.node.[{#PHY_NODE_MACHINEID}])="notrunning"'
                  name: 云物理节点【node状态】异常告警
                  priority: HIGH
                  description: 云物理节点【node状态】异常告警
            -
              uuid: 9d3ef9f14bf54e9ab65c2cc2d67a0ef5
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} harddisk error'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.harddisk_error.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.specifiedNodeSummary
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNodeSummary
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: harddisk
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: f5041472567d4810a870839f04513a4b
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.harddisk_error.[{#PHY_NODE_MACHINEID}],,"like","normal")=0'
                  name: 云物理节点【磁盘】状态异常告警
                  priority: AVERAGE
                  description: 云物理节点【磁盘】状态异常告警
            -
              uuid: 6aa2c61804cc442fbb72a5020d989c46
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} network error'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.network_error.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.specifiedNodeSummary
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNodeSummary
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: network
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 3f2ab5f28fd44ac392e142d297224dd9
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.network_error.[{#PHY_NODE_MACHINEID}],,"like","normal")=0'
                  name: 云物理节点【网卡】状态异常告警
                  priority: HIGH
                  description: 云物理节点【网卡】状态异常告警
            -
              uuid: cd36311fc55f45c0bfe2e24a8cd7b05b
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Ovsdb_server'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Ovsdb_server.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Ovsdb_server
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 118622634aad4790986e8322f841a822
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Ovsdb_server.[{#PHY_NODE_MACHINEID}],,"like","0")=1'
                  name: '云物理节点【sdn ovsdb状态】异常告警'
                  priority: HIGH
                  description: '云物理节点【sdn ovsdb状态】异常告警'
            -
              uuid: 3c683b058aa24df3b65e419e606c7295
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Ovs_vswitchd'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Ovs_vswitchd.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Ovs_vswitchd
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: ae6da38a45cb486a9a16281568e9348b
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Ovs_vswitchd.[{#PHY_NODE_MACHINEID}],,"like","0")=1'
                  name: '云物理节点【sdn ovswitch状态】异常告警'
                  priority: HIGH
                  description: '云物理节点【sdn ovswitch状态】异常告警'
            -
              uuid: 53c3f171c4fa43b0803c04e5055e94b2
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Sdn_controller_mem'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_controller_mem.[{#PHY_NODE_MACHINEID}]'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Sdn_controller_mem
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: fd73f382561643c397bb0d4b8b787f81
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_controller_mem.[{#PHY_NODE_MACHINEID}])>390070272'
                  name: 云物理节点【sdn控制器内存>4g】异常告警
                  priority: AVERAGE
                  description: 云物理节点【sdn控制器内存>4g】异常告警
            -
              uuid: 74ebc31f0461436c8942252d744e20ae
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Sdn_flow_count'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_flow_count.[{#PHY_NODE_MACHINEID}]'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Sdn_flow_count
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 5c31de0a866c4585b1bc90c9a579628b
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_flow_count.[{#PHY_NODE_MACHINEID}])>30000'
                  name: 云物理节点【sdn流表>3w】异常告警
                  priority: AVERAGE
                  description: 云物理节点【sdn流表>3w】异常告警
            -
              uuid: 2a4a987afa0d45d48e052ec2453aabc7
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Sdn_health'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_health.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Sdn_health
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: abc22294628445f58419ed9a38bf6b66
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_health.[{#PHY_NODE_MACHINEID}],,"like","false")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_health.[{#PHY_NODE_MACHINEID}],,"like","true")=1'
                  name: 云物理节点【sdn控制器状态】异常告警
                  priority: HIGH
                  description: 云物理节点【sdn控制器状态】异常告警
            -
              uuid: de73a15d27a84eeea844ec128cd53a9e
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Sdn_ver'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_ver.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Sdn_ver
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: d548116936c84e27b6a0fffbe309bed5
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_ver.[{#PHY_NODE_MACHINEID}],,"like",{$BINGO_SDN_VERSION})=0'
                  name: 云物理节点【sdn控制器版本不一致】异常告警
                  priority: AVERAGE
                  description: 云物理节点【sdn控制器版本不一致】异常告警
            -
              uuid: e1bb10934ad64136b652f3458647172a
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} sdn_info Sdn_vswitch_cpu'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.sdn_info.Sdn_vswitch_cpu.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.Sdn_infoItem.Sdn_vswitch_cpu
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: sdn_info
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 593912770181435cb78d7050687550f2
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Cpuload_5min'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Cpuload_5min.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Cpuload_5min
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: e46ba80d591c4e9ba6ff93a32f5b9123
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Cpuload_10min'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Cpuload_10min.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Cpuload_10min
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 9f984e98e60e48c082f4447e22b54009
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Cpuload_15min'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Cpuload_15min.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Cpuload_15min
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 251bd8323c1e4f91a627c33695eb5601
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server MemoryAll'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.MemoryAll.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.MemoryAll
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 8406bfd3f4db4dffa4fc875d4dc95a37
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server MemoryPer'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.MemoryPer.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.MemoryPer
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: cefa5004692e45a6b99178d90825a353
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.MemoryPer.[{#PHY_NODE_MACHINEID}])>80'
                  name: 云物理节点【物理内存百分比>80%】异常告警
                  priority: WARNING
                  description: 云物理节点【物理内存百分比>80%】异常告警
            -
              uuid: 4c6d9f7d80f9431686bd81feb05c4507
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server MemoryUsed'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.MemoryUsed.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.MemoryUsed
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 21cc053bc5974550be6cb775855679e6
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Memory_swapAll'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Memory_swapAll.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Memory_swapAll
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 35132d8dc3354dcc834c625fe9f5ebcf
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Memory_swapPer'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Memory_swapPer.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Memory_swapPer
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 611df2d17f334b999f8b6158323a1b50
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.Memory_swapPer.[{#PHY_NODE_MACHINEID}])>50'
                  name: 云物理节点【swap内存百分比>50%】异常告警
                  priority: WARNING
                  description: 云物理节点【swap内存百分比>50%】异常告警
            -
              uuid: 6d9f692fded741ad9a5f3623d5bf024c
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Memory_swapUsed'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Memory_swapUsed.[{#PHY_NODE_MACHINEID}]'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Memory_swapUsed
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
            -
              uuid: 9711cb8998f2432bad621fcdf748a399
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Net_connect_count'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Net_connect_count.[{#PHY_NODE_MACHINEID}]'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Net_connect_count
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: a8befaa1de8945f28ebd58265e294017
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.Net_connect_count.[{#PHY_NODE_MACHINEID}])>3000'
                  name: 云物理节点【网络连接数>3k】异常告警
                  priority: WARNING
                  description: 云物理节点【网络连接数>3k】异常告警
            -
              uuid: c0d508fb51674241b45c231000868300
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Ntp_sync_states'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Ntp_sync_states.[{#PHY_NODE_MACHINEID}]'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Ntp_sync_states
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: a94f8e5d2345449797cf65a62a1ff59e
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.Ntp_sync_states.[{#PHY_NODE_MACHINEID}],,"like","yes")=0'
                  name: 云物理节点【ntp同步状态】异常告警
                  priority: AVERAGE
                  description: 云物理节点【ntp同步状态】异常告警
            -
              uuid: 2e5e2bf7784f4d5ab45ad6d2d1dc6978
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server RootUsedPer'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.RootUsedPer.[{#PHY_NODE_MACHINEID}]'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.RootUsedPer
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 53a05aebaac94692a8852b41af187482
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.RootUsedPer.[{#PHY_NODE_MACHINEID}])>80'
                  name: 云物理节点【根分区使用百分比>80%】异常告警
                  priority: WARNING
                  description: 云物理节点【根分区使用百分比>80%】异常告警
            -
              uuid: 4a5106c177e94fb0b79775ffea2fc404
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Sys_process_count'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Sys_process_count.[{#PHY_NODE_MACHINEID}]'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Sys_process_count
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: efac662bb190435ba86d5de320550e55
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.Sys_process_count.[{#PHY_NODE_MACHINEID}])>5000'
                  name: 云物理节点【进程数>5k】异常告警
                  priority: WARNING
                  description: 云物理节点【进程数>5k】异常告警
            -
              uuid: 155a7b9bc254402c8cc906d16846f473
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} server Sys_process_zombies_count'
              type: HTTP_AGENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.server.Sys_process_zombies_count.[{#PHY_NODE_MACHINEID}]'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.result.filterBingo_Monitor.ServerItem.Sys_process_zombies_count
              timeout: 30s
              url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
              query_fields:
                -
                  name: infoType
                  value: specifiedNode
                -
                  name: targetNode
                  value: '{#PHY_NODE_MACHINEID}'
                -
                  name: targetNodeInfoType
                  value: server
              headers:
                -
                  name: Authorization
                  value: '{$BINGOMS_ACCESS_TOKEN}'
              trigger_prototypes:
                -
                  uuid: 8c9735effbbe49238276a9dd2c191862
                  expression: 'last(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.server.Sys_process_zombies_count.[{#PHY_NODE_MACHINEID}])>0'
                  name: 云物理节点【僵尸进程】异常告警
                  priority: WARNING
                  description: 云物理节点【僵尸进程】异常告警
            -
              uuid: 9cbdf8f97e244b60961dbeb52433e5cb
              name: 'BingoMS CloudPhysicalNode {#PHY_NODE_MACHINEID} status'
              type: DEPENDENT
              key: 'host.cloudPhysicalNodeList.CloudPhysicalNode.status.[{#PHY_NODE_MACHINEID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.machineId == "{#PHY_NODE_MACHINEID}")].machineStatus.first()'
              master_item:
                key: bms.CloudPhysicalNode.CloudPhysicalNodeList
              trigger_prototypes:
                -
                  uuid: 6810c78cba634097b036eb0bd915ea33
                  expression: 'find(/BingoMS/host.cloudPhysicalNodeList.CloudPhysicalNode.status.[{#PHY_NODE_MACHINEID}],,"like","available")=0'
                  name: 云物理节点状态异常告警
                  priority: HIGH
                  description: 云物理节点状态异常告警
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudPhysicalNode'
          query_fields:
            -
              name: infoType
              value: CloudPhysicalNodeList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#PHY_NODE_CPUCORES}'
              path: $.cpuCores
            -
              lld_macro: '{#PHY_NODE_CPUKIND}'
              path: $.cpuKind
            -
              lld_macro: '{#PHY_NODE_ERLANGNODE}'
              path: $.erlangNode
            -
              lld_macro: '{#PHY_NODE_MACHINEID}'
              path: $.machineId
            -
              lld_macro: '{#PHY_NODE_MACHINESTATUS}'
              path: $.machineStatus
            -
              lld_macro: '{#PHY_NODE_MANUFACTURER}'
              path: $.manufacturer
            -
              lld_macro: '{#PHY_NODE_MEMSIZE}'
              path: $.memSize
            -
              lld_macro: '{#PHY_NODE_}'
              path: $.clusterId
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.physical_machineList
        -
          uuid: 744797ccd2ce4cbda9c1f643f8793744
          name: 'BingoMS CloudService CloudServiceList Discovery'
          type: HTTP_AGENT
          key: bms.CloudService.CloudServiceList.Discovery
          item_prototypes:
            -
              uuid: ea426c08d8d84393b4612939df6f7838
              name: 'BingoMS CloudService {#SERVICE_CLOUDSERVICEID} - {#SERVICE_SERVICENAME} status'
              type: DEPENDENT
              key: 'host.cloudServiceList.Service.status.[{#SERVICE_CLOUDSERVICEID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.cloudServiceId== "{#SERVICE_CLOUDSERVICEID}")].status.first()'
              master_item:
                key: bms.CloudService.CloudServiceList
              trigger_prototypes:
                -
                  uuid: f7f16c64a1b84a97bff064ac2791fae3
                  expression: 'last(/BingoMS/host.cloudServiceList.Service.status.[{#SERVICE_CLOUDSERVICEID}])="stopped"'
                  name: 云服务状态停止stopped告警
                  priority: HIGH
                  description: 云服务状态停止stopped告警
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudService'
          query_fields:
            -
              name: serviceType
              value: ServiceList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#SERVICE_CLOUDSERVICEID}'
              path: $.cloudServiceId
            -
              lld_macro: '{#SERVICE_LASTCHECKSTATUS}'
              path: $.lastCheckStatus
            -
              lld_macro: '{#SERVICE_MGRADDRESS}'
              path: $.mgrAddress
            -
              lld_macro: '{#SERVICE_SERVICECODE}'
              path: $.serviceCode
            -
              lld_macro: '{#SERVICE_SERVICENAME}'
              path: $.serviceName
            -
              lld_macro: '{#SERVICE_SERVICETYPE}'
              path: $.serviceType
            -
              lld_macro: '{#SERVICE_STATUS}'
              path: $.status
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.serviceList
        -
          uuid: fdba1eded9c04e47a8ea3769bae08d0f
          name: 'BingoMS CloudStorage CloudStorageList Discovery'
          type: HTTP_AGENT
          key: bms.CloudStorage.CloudStorageList.Discovery
          item_prototypes:
            -
              uuid: 85a92c5b30104cd99f08783b91a8f9df
              name: 'BingoMS CloudStorage {#STORAGE_STORAGEID} - {#STORAGE_STORAGENAME} spaceMax'
              type: DEPENDENT
              key: 'host.cloudStorageList.Storage.spaceMax.[{#STORAGE_STORAGEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.storageId== "{#STORAGE_STORAGEID}")].spaceMax.first()'
              master_item:
                key: bms.CloudStorage.CloudStorageList
            -
              uuid: 03fd375f822249919cce735a69b63523
              name: 'BingoMS CloudStorage {#STORAGE_STORAGEID} - {#STORAGE_STORAGENAME} spaceUsed'
              type: DEPENDENT
              key: 'host.cloudStorageList.Storage.spaceUsed.[{#STORAGE_STORAGEID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.storageId== "{#STORAGE_STORAGEID}")].spaceUsed.first()'
              master_item:
                key: bms.CloudStorage.CloudStorageList
          trigger_prototypes:
            -
              uuid: 6cc1940c6dac4978b71f84f7e5cf08ad
              expression: '(last(/BingoMS/host.cloudStorageList.Storage.spaceUsed.[{#STORAGE_STORAGEID}]) / last(/BingoMS/host.cloudStorageList.Storage.spaceMax.[{#STORAGE_STORAGEID}])) * 100 > 80'
              name: 云存储空间使用率大于80%告警
              priority: AVERAGE
              description: 云存储空间使用率大于80%告警
          graph_prototypes:
            -
              uuid: 6344ab1baa6e4c60b52db86e92ef0431
              name: '云存储  {#STORAGE_STORAGEID} {#STORAGE_STORAGENAME} 使用情况'
              type: STACKED
              graph_items:
                -
                  color: 1A7C11
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudStorageList.Storage.spaceMax.[{#STORAGE_STORAGEID}]'
                -
                  sortorder: '1'
                  color: F63100
                  calc_fnc: MIN
                  item:
                    host: BingoMS
                    key: 'host.cloudStorageList.Storage.spaceUsed.[{#STORAGE_STORAGEID}]'
          url: 'http://{$BINGOMS_API_IP}:{$BINGO_API_PORT}/v1/backend/getCloudStorage'
          query_fields:
            -
              name: storageType
              value: CloudStorageList
          headers:
            -
              name: Authorization
              value: '{$BINGOMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#STORAGE_PROVIDER}'
              path: $.provider
            -
              lld_macro: '{#STORAGE_SPACEMAX}'
              path: $.spaceMax
            -
              lld_macro: '{#STORAGE_SPACEUSED}'
              path: $.spaceUsed
            -
              lld_macro: '{#STORAGE_STORAGEID}'
              path: $.storageId
            -
              lld_macro: '{#STORAGE_STORAGENAME}'
              path: $.storageName
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.result.storageList
      macros:
        -
          macro: '{$BINGOMS_ACCESS_TOKEN}'
          value: 5
          description: BINGOMS_ACCESS_TOKEN
        -
          macro: '{$BINGOMS_API_IP}'
          value: 10.16.160.11
          description: BINGOMS_API_IP
        -
          macro: '{$BINGO_API_PORT}'
          value: '8098'
          description: BINGO_API_PORT
        -
          macro: '{$BINGO_SDN_VERSION}'
          value: 4.8.17
          description: BINGO_SDN_VERSION
  triggers:
    -
      uuid: a1614b99ac26453b8431a3a71f8bdc4a
      expression: 'last(/BingoMS/bms.CloudScale.CpuNumUsed) > last(/BingoMS/bms.CloudScale.CpuNum)'
      name: 云平台分配CPU超过实际可用数告警
      priority: AVERAGE
      description: 云平台分配CPU超过实际可用数告警
  graphs:
    -
      uuid: 34415ac562bb40e3adfbb040941477c7
      name: '云平台 CPU物理/超售资源'
      type: STACKED
      graph_items:
        -
          color: 7EC25C
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CpuNum
        -
          sortorder: '1'
          color: '274482'
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CpuNumLog
        -
          sortorder: '2'
          color: FC6EA3
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CpuNumUsed
    -
      uuid: 26ae45da803e4461b1d91a4e48130229
      name: '云平台 Memory物理/超售资源'
      type: STACKED
      graph_items:
        -
          color: 2B5429
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.MemNum
        -
          sortorder: '1'
          color: 8048B4
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.MemNumLog
        -
          sortorder: '2'
          color: 6C59DC
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.MemNumUsed
    -
      uuid: 989ed7a2ca464e34a27e140dbe762583
      name: '云平台 节点/集群数'
      type: STACKED
      graph_items:
        -
          color: 1A7C11
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CloudNodeNum
        -
          sortorder: '1'
          color: F63100
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.ClusterNum
        -
          sortorder: '2'
          color: 2774A4
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.PhyNodeNum
    -
      uuid: e951402d0d7a4eb4bbce3982933cf9db
      name: '云平台 虚拟机数量'
      type: STACKED
      graph_items:
        -
          color: 1A7C11
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CountallIns
        -
          sortorder: '1'
          color: F63100
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CountrunIns
        -
          sortorder: '2'
          color: 2774A4
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CountstopIns
    -
      uuid: 6e5aece572714d03bd2249bd12787f77
      name: '云平台 计算节点CPU个数'
      type: STACKED
      graph_items:
        -
          color: 1A7C11
          calc_fnc: MIN
          item:
            host: BingoMS
            key: bms.CloudScale.CpuPhyNum
